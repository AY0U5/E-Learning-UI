
<div class="flex">
    <div class="col col-9">
        <div class="flex">
            <button pButton class="col col-2 col-offset-10 mb-3" (click)="previewIsOk()" label="Preview"></button>
        </div>
        <p-editor id="editeur" [(ngModel)]="item.contenu" [style]="{height: '30rem'}" (click)="getLiens()"></p-editor>
        <div class="flex mt-3">
            <button pButton (click)="saveContent()" class="col col-2 p-button-success" label="Save"></button>
            <button pButton (click)="prevCard()" class="col col-2 col-offset-5 p-button-danger" label="Previous"></button>
            <button pButton (click)="nextCard()" class="col col-2 col-offset-1 p-button-warning" label="Next"></button>
        </div>
    </div>
    <div class="col col-3 mt-8 catre-container">
        <div class="m-3 catre"
             *ngFor="let cat of sections; let i = index"
             [ngStyle]="{'background-color': i === selectedCardIndex? 'rgba(246,161,255,0.49)' : 'white'}"
             (click)="selectCard(cat,i)">
            <span class="col col-2">{{cat.numeroOrder}}</span>
            <span class="col col-6">{{cat.categorieSection.libelle}}</span>
        </div>
    </div>
</div>



<!-- ////////// Preview \\\\\\\\\ -->
<p-dialog [(visible)]="okPreview" [style]="{width: '60vw'}">
    <div class="flex">
        <div class="col col-8">
            <div id="htmlEditor" *ngFor="let cont of sections; let j=index">
                <div id="contentWithoutTags" *ngIf="j === selectedCardIndex">
                    {{ stripHtmlTags(cont.contenu) }}
                    <img src="{{ getLiens() }}"/>
                </div>
            </div>
        </div>
        <div class="col col-4 catre-container">
            <div class="m-3 catre"
                 *ngFor="let cat of sections; let i = index"
                 [ngStyle]="{'background-color': i === selectedCardIndex? 'rgba(246,161,255,0.49)' : 'white'}"
                 (click)="selectCard(cat,i)">
                <span class="col col-2">{{cat.numeroOrder}}</span>
                <span class="col col-5">{{cat.categorieSection.libelle}}</span>
            </div>
            <div class="flex mt-3">
                <button pButton (click)="prevCard()" class="col col-5 p-button-danger" label="Previous"></button>
                <button pButton (click)="nextCard()" class="col col-5 col-offset-2 p-button-warning" label="Next"></button>
            </div>
        </div>
    </div>
</p-dialog>

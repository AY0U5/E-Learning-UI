<p-dialog [(visible)]="editDialog" [style]="{width: '70vw'}" header="{{'section.tabPan' | translate}}" [modal]="true"
          styleClass="p-fluid" [maximizable]="true" [draggable]="false" [resizable]="false">
    <ng-template pTemplate="content">
        <p-tabView>
            <p-tabPanel header="{{'section.tabPan' | translate}}">
                <div class="grid">

                    <div class="field col-12 md:col-6">
                        <label for="1">{{ 'section.code' | translate }}<span style="color: red;">*</span></label>
                        <input class="mb-2 mr-2" type="text" pInputText placeholder="{{'section.code' | translate}}"
                               id="1" [(ngModel)]="item.code"
                               [ngClass]="{'ng-invalid ng-dirty' : !validSectionCode}"/>
                        <small class='p-error' *ngIf='!validSectionCode'>Code est obligatoire.</small>
                    </div>


                    <div class="field col-12 md:col-6">
                        <label for="2">{{ 'section.libelle' | translate }}</label>
                        <input class="mb-2 mr-2" type="text" pInputText placeholder="{{'section.libelle' | translate}}"
                               id="2" [(ngModel)]="item.libelle"
                        />

                    </div>


                    <div class="field col-12 md:col-6">
                        <label for="3">{{ 'section.urlImage' | translate }}</label>
                        <input class="mb-2 mr-2" type="text" pInputText placeholder="{{'section.urlImage' | translate}}"
                               id="3" [(ngModel)]="item.urlImage"
                        />

                    </div>


                    <div class="field col-12 md:col-6">
                        <label for="4">{{ 'section.urlImage2' | translate }}</label>
                        <input class="mb-2 mr-2" type="text" pInputText
                               placeholder="{{'section.urlImage2' | translate}}" id="4" [(ngModel)]="item.urlImage2"
                        />

                    </div>


                    <div class="field col-12 md:col-6">
                        <label for="5">{{ 'section.urlImage3' | translate }}</label>
                        <input class="mb-2 mr-2" type="text" pInputText
                               placeholder="{{'section.urlImage3' | translate}}" id="5" [(ngModel)]="item.urlImage3"
                        />

                    </div>


                    <div class="field col-12 md:col-6">
                        <label for="6">{{ 'section.urlVideo' | translate }}</label>
                        <input class="mb-2 mr-2" type="text" pInputText placeholder="{{'section.urlVideo' | translate}}"
                               id="6" [(ngModel)]="item.urlVideo"
                        />

                    </div>


                    <div class="field col-12 md:col-6">
                        <label for="7">{{ 'section.contenu' | translate }}</label>
                        <input class="mb-2 mr-2" type="text" pInputText placeholder="{{'section.contenu' | translate}}"
                               id="7" [(ngModel)]="item.contenu"
                        />

                    </div>


                    <div class="field col-12 md:col-6">
                        <label for="8">{{ 'section.questions' | translate }}</label>
                        <input class="mb-2 mr-2" type="text" pInputText
                               placeholder="{{'section.questions' | translate}}" id="8" [(ngModel)]="item.questions"
                        />

                    </div>


                    <div class="field col-12 md:col-6">
                        <label for="9">{{ 'section.indicationProf' | translate }}</label>
                        <input class="mb-2 mr-2" type="text" pInputText
                               placeholder="{{'section.indicationProf' | translate}}" id="9"
                               [(ngModel)]="item.indicationProf"
                        />

                    </div>


                    <div class="field col-12 md:col-6">
                        <label for="10">{{ 'section.numeroOrder' | translate }}</label>
                        <p-inputNumber class="mb-2 mr-2" id="10" placeholder="{{'section.numeroOrder' | translate}}"
                                       [(ngModel)]="item.numeroOrder">
                        </p-inputNumber>

                    </div>

                    <div class="field col-11 md:col-6">
                        <label for="11">{{ 'section.categorieSection' | translate }}</label>
                        <p-dropdown appendTo="body" [options]="categorieSections" [(ngModel)]="item.categorieSection"
                                    id="11" [filter]="true" filterMatchMode="contains"
                                    [showClear]="true" optionLabel="code"
                                    placeholder="{{'section.categorieSection' | translate}}">
                        </p-dropdown>

                    </div>

                    <div class="field col-11 md:col-6">
                        <label for="12">{{ 'section.cours' | translate }}</label>
                        <p-dropdown appendTo="body" [options]="courss" [(ngModel)]="item.cours" id="12" [filter]="true"
                                    filterMatchMode="contains"
                                    [showClear]="true" optionLabel="libelle"
                                    placeholder="{{'section.cours' | translate}}">
                        </p-dropdown>

                    </div>

                    <div class="field col-12 md:col-6">
                        <label for="13">{{ 'section.url' | translate }}</label>
                        <p-inputNumber class="mb-2 mr-2" id="13" placeholder="{{'section.url' | translate}}"
                                       [(ngModel)]="item.url">
                        </p-inputNumber>

                    </div>

                    <div class="field col-12 md:col-6">
                        <label for="14">{{ 'section.content' | translate }}</label>
                        <p-inputNumber class="mb-2 mr-2" id="14" placeholder="{{'section.content' | translate}}"
                                       [(ngModel)]="item.content">
                        </p-inputNumber>

                    </div>
                    <div class="field col-11 md:col-6">
                        <label for="99">{{ 'Etat Section' | translate }}</label>
                        <p-dropdown appendTo="body" [options]="etatSections" [(ngModel)]="item.etatSection" id="99"
                                    [filter]="true" filterMatchMode="contains"
                                    [showClear]="true" optionLabel="libelle"
                                    placeholder="{{'Etat Section' | translate}}">
                        </p-dropdown>

                    </div>

                </div>
            </p-tabPanel>
            <p-tabPanel header="{{'section.sectionItems' | translate}}">
                <p-tabView [(activeIndex)]="activeTab">
                    <p-tabPanel header="CrÃ©ation">
                        <div class="grid">
                            <div class="field col-12 md:col-6">
                                <label for="1">Image url</label>
                                <input class="mb-2 mr-2" type="text" pInputText placeholder="Image url"
                                       id="1" [(ngModel)]="sectionItemsElement.imageUrl" autofocus>

                            </div>
                            <div class="field col-12 md:col-6">
                                <label for="2">Response</label>
                                <input class="mb-2 mr-2" type="text" pInputText placeholder="Response"
                                       id="2" [(ngModel)]="sectionItemsElement.response" autofocus>

                            </div>
                            <div class="field col-12 md:col-6">
                                <label for="3">Transcription</label>
                                <input class="mb-2 mr-2" type="text" pInputText placeholder="Transcription"
                                       id="3" [(ngModel)]="sectionItemsElement.transcription" autofocus>

                            </div>
                            <div class="field col-12 md:col-6">
                                <label for="4">Translation</label>
                                <input class="mb-2 mr-2" type="text" pInputText placeholder="Translation"
                                       id="4" [(ngModel)]="sectionItemsElement.translation" autofocus>

                            </div>
                            <div class="field col-12 md:col-6">
                                <label for="5">Explanation</label>
                                <input class="mb-2 mr-2" type="text" pInputText placeholder="Explanation"
                                       id="5" [(ngModel)]="sectionItemsElement.explanation" autofocus>

                            </div>
                            <div class="field col-12 md:col-6">
                                <label for="6">Example</label>
                                <input class="mb-2 mr-2" type="text" pInputText placeholder="Example"
                                       id="6" [(ngModel)]="sectionItemsElement.example" autofocus>

                            </div>
                            <div class="field col-12 md:col-6">
                                <label for="7">Synonyms</label>
                                <input class="mb-2 mr-2" type="text" pInputText placeholder="Synonyms"
                                       id="7" [(ngModel)]="sectionItemsElement.synonyms" autofocus>

                            </div>
                            <div class="field col-12 md:col-1">
                                <button pButton pRipple type="button" icon="pi pi-plus" class="mt-4" label="OK"
                                        (click)="addSectionItems()"></button>
                            </div>

                        </div>
                    </p-tabPanel>
                    <p-tabPanel
                        header="Liste {{item.sectionItems?.length > 0 ? '(' + item.sectionItems?.length + ')' : ''}}">
                        <div class="card">
                            <p-table [value]="item.sectionItems" [scrollable]="true" scrollHeight="200px">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>Image url</th>
                                        <th>Response</th>
                                        <th>Transcription</th>
                                        <th>Translation</th>
                                        <th>Explanation</th>
                                        <th>Example</th>
                                        <th>Synonyms</th>
                                        <th>Actions</th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-p>
                                    <tr>
                                        <td>{{ p.imageUrl }}</td>
                                        <td>{{ p.response }}</td>
                                        <td>{{ p.transcription }}</td>
                                        <td>{{ p.translation }}</td>
                                        <td>{{ p.explanation }}</td>
                                        <td>{{ p.example }}</td>
                                        <td>{{ p.synonyms }}</td>
                                        <td>
                                            <button (click)="deleteSectionItems(p)" pButton type="button"
                                                    icon="pi pi-times"
                                                    class="p-button-rounded p-button-danger"></button>
                                            <button (click)="editSectionItems(p)" pButton type="button"
                                                    icon="pi pi-pencil"
                                                    class="p-button-rounded p-button-success mr-2"></button>
                                        </td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </div>

                    </p-tabPanel>
                </p-tabView>
            </p-tabPanel>


        </p-tabView>

    </ng-template>

    <ng-template pTemplate="footer">
        <div class="p-flexbox">

            <button pButton pRipple label="{{'validate' | translate}}" icon="pi pi-check" (click)="edit()"></button>


            <button pButton pRipple label="{{'cancel' | translate}}" icon="pi pi-times" class="p-button-outlined"
                    (click)="hideEditDialog()"></button>


        </div>
    </ng-template>

</p-dialog>
